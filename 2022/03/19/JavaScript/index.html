<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/mini-black-hole-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/mini-black-hole-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"hreatehakunari.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="1. Web APIs 和 JS 的基础关联性1.1 JS 的组成  JS 基础： 基础语法 Web APIs： W3C 组织的标准 主要包括 DOM 和 BOM Web APIs 是 JS 独有的部分">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript">
<meta property="og:url" content="http://hreatehakunari.com/2022/03/19/JavaScript/index.html">
<meta property="og:site_name" content="Interstellar">
<meta property="og:description" content="1. Web APIs 和 JS 的基础关联性1.1 JS 的组成  JS 基础： 基础语法 Web APIs： W3C 组织的标准 主要包括 DOM 和 BOM Web APIs 是 JS 独有的部分">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203191831742.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238430.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192000343.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238393.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238515.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238047.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192028082.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192032870.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192033425.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238324.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192051558.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238794.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238657.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192100136.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192100841.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238629.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238620.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192106414.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238638.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238648.png">
<meta property="og:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192115006.png">
<meta property="article:published_time" content="2022-03-19T14:36:34.000Z">
<meta property="article:modified_time" content="2022-03-19T14:40:37.624Z">
<meta property="article:author" content="HreateHakunari">
<meta property="article:tag" content="JavaScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203191831742.png">

<link rel="canonical" href="http://hreatehakunari.com/2022/03/19/JavaScript/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>JavaScript | Interstellar</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/rss2.xml" title="Interstellar" type="application/rss+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Interstellar</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-resources">

    <a href="/resources/" rel="section"><i class="download fa-fw"></i>resources</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://hreatehakunari.com/2022/03/19/JavaScript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="HreateHakunari">
      <meta itemprop="description" content="Do not go gentle into that good night.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Interstellar">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          JavaScript
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-03-19 22:36:34 / 修改时间：22:40:37" itemprop="dateCreated datePublished" datetime="2022-03-19T22:36:34+08:00">2022-03-19</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Javascript/" itemprop="url" rel="index"><span itemprop="name">Javascript</span></a>
                </span>
            </span>

          
            <span id="/2022/03/19/JavaScript/" class="post-meta-item leancloud_visitors" data-flag-title="JavaScript" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2022/03/19/JavaScript/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/03/19/JavaScript/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="1-Web-APIs-和-JS-的基础关联性"><a href="#1-Web-APIs-和-JS-的基础关联性" class="headerlink" title="1. Web APIs 和 JS 的基础关联性"></a>1. Web APIs 和 JS 的基础关联性</h2><h3 id="1-1-JS-的组成"><a href="#1-1-JS-的组成" class="headerlink" title="1.1 JS 的组成"></a>1.1 JS 的组成</h3><p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203191831742.png" alt="image-20220319183113694"></p>
<ul>
<li>JS 基础： 基础语法</li>
<li>Web APIs：<ul>
<li>W3C 组织的标准</li>
<li>主要包括 DOM 和 BOM</li>
<li>Web APIs 是 JS 独有的部分</li>
</ul>
</li>
</ul>
<span id="more"></span>

<h3 id="1-2-API-和-WebAPI"><a href="#1-2-API-和-WebAPI" class="headerlink" title="1.2 API 和 WebAPI"></a>1.2 API 和 WebAPI</h3><ul>
<li><p>API （Application Programming Interface，应用程序编程接口），是给程序员提供的一种工具，以便能更轻松的实现想要完成的功能。</p>
</li>
<li><p>Web API 是浏览器提供的一套操作浏览器功能和页面元素的API（BOM和DOM）</p>
<ul>
<li>如 <code>alert(&#39;..&#39;)</code></li>
</ul>
</li>
</ul>
<h2 id="2-DOM"><a href="#2-DOM" class="headerlink" title="2. DOM"></a>2. DOM</h2><h3 id="2-1-DOM简介"><a href="#2-1-DOM简介" class="headerlink" title="2.1 DOM简介"></a>2.1 DOM简介</h3><h4 id="2-1-1-什么是DOM"><a href="#2-1-1-什么是DOM" class="headerlink" title="2.1.1 什么是DOM"></a>2.1.1 什么是DOM</h4><p>文档对象模型（ Document Object Model，简称 DOM ），是 W3C 组织推荐的处理可拓展标记语言（HTML或者XML）的标准编程接口。</p>
<p>W3C 已经定义了一系列的 DOM 接口，通过这些 DOM 接口可以改变网页的样式、结构和内容。</p>
<h4 id="2-1-2-DOM树"><a href="#2-1-2-DOM树" class="headerlink" title="2.1.2 DOM树"></a>2.1.2 DOM树</h4><p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238430.png" alt="image-20220319183816427"></p>
<ul>
<li>文档：一个页面就是一个文档，DOM 中使用 document 表示</li>
<li>元素：页面中所有标签都是元素，DOM 中使用 element 表示</li>
<li>节点：网页中所有内容都是节点（ 标签、属性、文本、注释等 ），DOM 中使用 node 表示</li>
</ul>
<h3 id="2-2-获取元素"><a href="#2-2-获取元素" class="headerlink" title="2.2 获取元素"></a>2.2 获取元素</h3><p>获取页面中的元素有以下几种方式：</p>
<ul>
<li><p>根据 ID 获取</p>
<ul>
<li>使用 <code>getElementById()</code> 方法可以获取带有 ID 的元素对象</li>
</ul>
</li>
<li><p>根据标签名获取</p>
<ul>
<li><p>使用 <code>getElementsByTagName()</code> 方法可以返回带有指定标签名的<strong>对象的集合</strong></p>
</li>
<li><blockquote>
<p>得到的元素的内容是动态的，随着元素中内容变化而变化</p>
</blockquote>
</li>
<li><p>还可以通过 <code>element.getElementsByTagName()</code> 方法获取某个元素（父元素）内部的所有指定标签名的子元素。</p>
</li>
</ul>
</li>
<li><p>通过 HTML5 新增的方法获取</p>
<ul>
<li><code>document.getElementByClassName(&#39;类名&#39;)</code> ，根据类名返回元素对象集合</li>
<li><code>document.querySelector(&#39;选择器&#39;)</code> ，根据指定选择器返回第一个元素对象<ul>
<li>选择器：如 <code>.box</code> 、 <code>#button1</code>等；</li>
</ul>
</li>
<li><code>document.querySelectorAll(&#39;选择器&#39;)</code>，根据指定选择器返回所有元素对象集合</li>
</ul>
</li>
<li><p>特殊元素获取</p>
<ul>
<li>获取 <code>body</code> 元素：<code>document.body</code></li>
<li>获取 <code>html</code> 元素：<code>document.documentElement</code></li>
</ul>
</li>
</ul>
<h3 id="2-3-事件"><a href="#2-3-事件" class="headerlink" title="2.3 事件"></a>2.3 事件</h3><h4 id="2-3-1-事件三要素、执行事件的步骤："><a href="#2-3-1-事件三要素、执行事件的步骤：" class="headerlink" title="2.3.1 事件三要素、执行事件的步骤："></a>2.3.1 事件三要素、执行事件的步骤：</h4><ol>
<li>获取事件源</li>
<li>注册事件（绑定事件）</li>
<li>添加事件处理程序（采取函数赋值形式）</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.获取事件源</span></span><br><span class="line"><span class="keyword">var</span> div = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line"><span class="comment">// 2. 注册事件 + 3. 添加事件处理程序</span></span><br><span class="line">div.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;按下了div&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="2-4-操作元素"><a href="#2-4-操作元素" class="headerlink" title="2.4 操作元素"></a>2.4 操作元素</h3><h4 id="2-4-1-改变元素内容"><a href="#2-4-1-改变元素内容" class="headerlink" title="2.4.1 改变元素内容"></a>2.4.1 改变元素内容</h4><p><code>element.innerText</code> ：从起始位置到终止位置的内容，但它去除了 html 标签，同时空格和换行也会去掉。</p>
<p><code>element.innerHTML</code> ：起始位置到终止位置的全部内容，包括 html 标签，同时保留空格和换行</p>
<h4 id="2-4-2-改变元素属性"><a href="#2-4-2-改变元素属性" class="headerlink" title="2.4.2 改变元素属性"></a>2.4.2 改变元素属性</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.获取元素</span></span><br><span class="line"><span class="keyword">var</span> button = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;button1&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> img = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;img&#x27;</span>);</span><br><span class="line">ldh.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  img.<span class="property">src</span> = <span class="string">&#x27;images/xxx.img&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-4-3-表单元素的属性操作"><a href="#2-4-3-表单元素的属性操作" class="headerlink" title="2.4.3 表单元素的属性操作"></a>2.4.3 表单元素的属性操作</h4><p>利用 DOM 可以操作如下表单元素的属性：</p>
<p><code>type、value、checked、selected、disabled</code></p>
<h4 id="2-4-4-样式属性操作"><a href="#2-4-4-样式属性操作" class="headerlink" title="2.4.4 样式属性操作"></a>2.4.4 样式属性操作</h4><p>通过 JS 修改元素的大小、颜色、位置等样式</p>
<p><code>element.style</code> 行内样式操作</p>
<p><code>element.className</code> 类名样式操作</p>
<h4 id="2-4-5-排他操作"><a href="#2-4-5-排他操作" class="headerlink" title="2.4.5 排他操作"></a>2.4.5 排他操作</h4><p>如果有同一组元素，想要某一个元素实现某种样式，需要用到循环的排他思想算法：</p>
<ul>
<li>所有元素全部清除样式</li>
<li>给当前元素设置样式</li>
</ul>
<h4 id="2-4-6-自定义属性操作"><a href="#2-4-6-自定义属性操作" class="headerlink" title="2.4.6 自定义属性操作"></a>2.4.6 自定义属性操作</h4><h5 id="获取自定义属性"><a href="#获取自定义属性" class="headerlink" title="获取自定义属性"></a>获取自定义属性</h5><p><code>element.getAttribute(&#39;属性&#39;)</code></p>
<h5 id="设置自定义属性"><a href="#设置自定义属性" class="headerlink" title="设置自定义属性"></a>设置自定义属性</h5><p><code>element.setAttribute(&#39;属性&#39;, &#39;值&#39;)</code></p>
<h5 id="移除属性"><a href="#移除属性" class="headerlink" title="移除属性"></a>移除属性</h5><p><code>element.removeAttribute(&#39;属性&#39;)</code></p>
<h4 id="2-4-7-H5-自定义属性"><a href="#2-4-7-H5-自定义属性" class="headerlink" title="2.4.7 H5 自定义属性"></a>2.4.7 H5 自定义属性</h4><p>自定义属性的目的：为了保存并使用数据。有些数据可以保存到页面中而不用保存到数据库中。</p>
<h5 id="设置-H5-自定义属性"><a href="#设置-H5-自定义属性" class="headerlink" title="设置 H5 自定义属性"></a>设置 H5 自定义属性</h5><ul>
<li>H5 规定自定义属性以 <code>data-</code> 开头作为属性名并且赋值</li>
</ul>
<p>如： <code>&lt;div data-index=&quot;1&quot; &gt;&lt;/div&gt;</code></p>
<p>或者使用JS设置： <code>element.setAttribute(&#39;data-index&#39;, 2)</code></p>
<h5 id="获取-H5-自定义属性"><a href="#获取-H5-自定义属性" class="headerlink" title="获取 H5 自定义属性"></a>获取 H5 自定义属性</h5><ul>
<li>兼容性获取： <code>element.getAttribute(&#39;data-index&#39;)</code></li>
<li>H5 新增： <code>element.dataset.index</code> 或者 <code>element.dataset[&#39;index&#39;]</code> <ul>
<li><code>dataset</code> 是一个集合，里面存放了所有以 <code>data-</code> 开头的自定义属性。</li>
</ul>
</li>
</ul>
<h3 id="2-5-节点操作"><a href="#2-5-节点操作" class="headerlink" title="2.5 节点操作"></a>2.5 节点操作</h3><h4 id="2-5-1-用节点操作的原因："><a href="#2-5-1-用节点操作的原因：" class="headerlink" title="2.5.1 用节点操作的原因："></a>2.5.1 用节点操作的原因：</h4><ul>
<li>利用 DOM 提供的方法获取元素<ul>
<li><code>document.getElementById()</code> </li>
<li><code>document.getElementsByTagName()</code> </li>
<li><code>document.querySelector</code> 等</li>
<li>逻辑性不强、繁琐</li>
</ul>
</li>
<li>利用节点层级关系获取元素<ul>
<li>利用父子兄节点关系获取元素</li>
<li>逻辑性强，但是兼容性较差</li>
</ul>
</li>
</ul>
<p>网页中所有的内容都是节点（标签、属性、文本、注释等），在 DOM 中，节点使用 node 来表示</p>
<p>HTML DOM 树中，所有节点都可以通过 JS 访问，所有 HTML 元素均可被修改、创建或删除。</p>
<h4 id="2-5-2-节点概述"><a href="#2-5-2-节点概述" class="headerlink" title="2.5.2 节点概述"></a>2.5.2 节点概述</h4><p>一般，节点至少有 nodeType（节点类型）、nodeName（节点名称）、nodeValue（节点值）这三个基本属性</p>
<ul>
<li>元素节点 nodeType 为 1</li>
<li>属性节点 nodeType 为 2</li>
<li>文本节点 nodeType 为 3</li>
</ul>
<p>开发过程中主要使用元素节点</p>
<h4 id="2-5-3-节点层级"><a href="#2-5-3-节点层级" class="headerlink" title="2.5.3 节点层级"></a>2.5.3 节点层级</h4><p>利用 DOM 树可以把节点划分为不同层级关系，常见的是<strong>父子兄层级关系</strong></p>
<h5 id="父级节点"><a href="#父级节点" class="headerlink" title="父级节点"></a>父级节点</h5><p><code>node.parentNode</code> </p>
<p>找不到父节点，返回 null</p>
<p>示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> child = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.box&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> parent = child.<span class="property">parentNode</span>;</span><br></pre></td></tr></table></figure>

<h5 id="子节点"><a href="#子节点" class="headerlink" title="子节点"></a>子节点</h5><p><code>node.childNodes</code> </p>
<p>以上子节点中，包括：元素节点、文本节点等</p>
<p>如果想要获取元素节点，则需要专门处理，所以<strong>不提倡使用 childNotes</strong> </p>
<p><code>node.children</code> </p>
<p>这是一个只读属性，返回<strong>所有的子元素节点</strong></p>
<ul>
<li><del>第一个子节点</del></li>
</ul>
<p>​    <code>node.firstChild</code> 获取所有</p>
<ul>
<li>第一个子元素节点</li>
</ul>
<p>​    <code>node.firstElementChild</code> 只获取元素</p>
<ul>
<li><del>最后一个子节点</del></li>
</ul>
<p>​    <code>node.lastChild</code> 获取所有</p>
<ul>
<li>最后一个子元素节点</li>
</ul>
<p><code>node.lastElementChild</code> 只获取元素</p>
<blockquote>
<p>实际开发过程中，获取第一个和最后一个：</p>
<p><code>node.children[0]</code></p>
<p><code>node.children[node.children.length - 1]</code></p>
</blockquote>
<h5 id="兄弟节点"><a href="#兄弟节点" class="headerlink" title="兄弟节点"></a>兄弟节点</h5><ul>
<li><p>下一个兄弟节点</p>
<p><code>node.nextSibling</code> 获取所有</p>
</li>
<li><p>下一个兄弟元素节点</p>
<p><code>node.nextElementSibling</code>  获取元素</p>
</li>
<li><p>上一个兄弟节点</p>
<p><code>node.previousSibling</code> 获取所有</p>
</li>
<li><p>上一个兄弟元素节点</p>
<p><code>node.previousElementSibling</code> 获取元素</p>
</li>
</ul>
<h4 id="2-5-4-添加节点"><a href="#2-5-4-添加节点" class="headerlink" title="2.5.4 添加节点"></a>2.5.4 添加节点</h4><ul>
<li>在最后添加</li>
</ul>
<p><code>node.appendChild(child)</code> ，将 <code>child</code> 添加到末尾</p>
<ul>
<li>插入</li>
</ul>
<p><code>node.insertBefore(child, 指定元素)</code> ，将 <code>child</code> 插入到指定元素前面</p>
<h4 id="2-5-5-删除节点"><a href="#2-5-5-删除节点" class="headerlink" title="2.5.5 删除节点"></a>2.5.5 删除节点</h4><p><code>node.removeChild(child)</code>，从 DOM 中删除一个子节点，返回删除的节点</p>
<h4 id="2-5-6-复制节点"><a href="#2-5-6-复制节点" class="headerlink" title="2.5.6 复制节点"></a>2.5.6 复制节点</h4><p><code>node.cloneNode()</code>，返回调用该方法的节点的一个副本。</p>
<blockquote>
<p>如果括号内参数为空，或者为 false ，则是浅复制，即只复制节点本身，不克隆里面的子节点。</p>
<p>若为true，为深复制，复制标签及里面的所有子节点</p>
</blockquote>
<h4 id="2-5-7-三种动态创建元素的区别"><a href="#2-5-7-三种动态创建元素的区别" class="headerlink" title="2.5.7 三种动态创建元素的区别"></a>2.5.7 三种动态创建元素的区别</h4><ul>
<li><code>document.write()</code></li>
<li><code>element.innerHTML</code></li>
<li><code>document.createElement()</code></li>
</ul>
<p>区别：</p>
<ol>
<li><code>document.write</code> 是直接将内容写入页面的内容流，但是文档流执行完毕，它会导致页面全部重绘；</li>
<li><code>innerHTML</code> 是将内容写入某个 DOM 节点，不会导致页面全部重绘；</li>
<li><code>innerHTML</code> 创建多个元素效率更高（不要拼接字符串，采取数组形式拼接），结构稍微复杂</li>
<li><code>createElement()</code> 创建多个元素效率稍低一点点，但是结构更清晰</li>
</ol>
<p>总结：不同浏览器下，innerHTML 效率要比 creatElement 高</p>
<h2 id="2-6-DOM-重点核心"><a href="#2-6-DOM-重点核心" class="headerlink" title="2.6 DOM 重点核心"></a>2.6 DOM 重点核心</h2><ul>
<li><p>DOM 元素节点创建</p>
<ul>
<li><code>document.write</code></li>
<li><code>innerHTML</code></li>
<li><code>createElement</code></li>
</ul>
</li>
<li><p>增加元素</p>
<ul>
<li><code>appendChild</code></li>
<li><code>insertBefore</code></li>
</ul>
</li>
<li><p>删除元素</p>
<ul>
<li><code>removeChild</code></li>
</ul>
</li>
<li><p>修改元素</p>
<ul>
<li>修改元素属性：src、href、title等</li>
<li>修改元素内容：innerHTML 、innerText</li>
<li>修改表单元素：value、type、disabled等</li>
<li>修改元素样式：style、className</li>
</ul>
</li>
<li><p>查找元素</p>
<ul>
<li><code>querySelector</code>、<code>querySelectorAll</code></li>
<li>利用节点操作元素：prentNode、children、previousElementSibling、nextElementSibling</li>
</ul>
</li>
<li><p>属性操作</p>
<ul>
<li>设置 DOM 属性值：<code>setAttribute</code></li>
<li>得到 DOM 属性值：<code>getAttribute</code> </li>
<li>移除 属性：<code>removeAttribute</code></li>
</ul>
</li>
<li><p>事件操作</p>
<ul>
<li><p>给元素注册事件：<code>事件源 . 事件类型 = 事件处理程序</code></p>
<p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192000343.png" alt="image-20220319200037299"></p>
</li>
</ul>
</li>
</ul>
<h2 id="3-事件"><a href="#3-事件" class="headerlink" title="3. 事件"></a>3. 事件</h2><h3 id="3-1-注册事件"><a href="#3-1-注册事件" class="headerlink" title="3.1 注册事件"></a>3.1 注册事件</h3><h4 id="3-1-1-注册事件概述"><a href="#3-1-1-注册事件概述" class="headerlink" title="3.1.1 注册事件概述"></a>3.1.1 注册事件概述</h4><p>给元素添加事件，称为注册事件或者绑定事件。</p>
<p>注册事件有两种方式：传统方式和方法监听注册方式。</p>
<ul>
<li><del>传统注册方式：</del><ul>
<li>利用 on 开头的事件 <code>onclick</code></li>
<li><code>&lt;button onclick=“alert(&#39;hi~&#39;)”&gt;&lt;/button&gt;</code></li>
<li><code>btn.onclick = function() &#123;&#125;</code></li>
<li>特点： 注册事件的唯一性<ul>
<li>同一个元素同一个事件只能设置一个处理函数，最后注册的处理函数将会覆盖前面注册的处理函数</li>
</ul>
</li>
</ul>
</li>
<li>方法监听注册方式：<ul>
<li>w3c 标准 推荐方式</li>
<li><code>addEventListener()</code> 它是一个方法</li>
<li>IE9 之前的 IE 不支持此方法，可使用 <code>attachEvent()</code> 代替</li>
<li>特点：同一个元素同一个事件可以注册多个监听器</li>
<li>按注册顺序依次执行</li>
</ul>
</li>
</ul>
<h4 id="3-1-2-addEventListener-事件监听方式"><a href="#3-1-2-addEventListener-事件监听方式" class="headerlink" title="3.1.2 addEventListener 事件监听方式"></a>3.1.2 addEventListener 事件监听方式</h4><p>语法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eventTarget.<span class="title function_">addEventListener</span>(type, listener, useCapture)</span><br></pre></td></tr></table></figure>

<p><code>eventTarget.addEventListener()</code> 方法将指定的监听器注册到 <code>eventTarget</code>（目标对象）上，当该对象触发指定的事件时，就会执行事件处理函数。</p>
<p>该方法接收三个参数：</p>
<ul>
<li>type：事件类型字符串，比如 click 、mouseover ，注意这里不要带 on</li>
<li>listener：事件处理函数，事件发生时，会调用该监听函数</li>
<li>useCapture：可选参数，是一个布尔值，默认是 false。后面介绍。</li>
</ul>
<h4 id="3-1-3-addEventListener-事件监听方式"><a href="#3-1-3-addEventListener-事件监听方式" class="headerlink" title="3.1.3 addEventListener 事件监听方式"></a>3.1.3 addEventListener 事件监听方式</h4><p>语法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eventTarget.<span class="title function_">attachEvent</span>(eventNameWithOn, callback)</span><br></pre></td></tr></table></figure>

<p>eventTarget.attachEvent()方法将指定的监听器注册到 eventTarget（目标对象） 上，当该对象触发指定的事件时，指定的回调函数就会被执行。</p>
<p>该方法接收两个参数：</p>
<ul>
<li>eventNameWithOn：事件类型字符串，比如 onclick 、onmouseover ，这里要带 on</li>
<li>callback： 事件处理函数，当目标触发事件时回调函数被调用</li>
</ul>
<blockquote>
<p>IE8 及早期版本支持</p>
</blockquote>
<h4 id="3-1-4-注册事件兼容性解决方案"><a href="#3-1-4-注册事件兼容性解决方案" class="headerlink" title="3.1.4 注册事件兼容性解决方案"></a>3.1.4 注册事件兼容性解决方案</h4><p>首先照顾大多数浏览器，再处理特殊浏览器</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addEventListener</span>(<span class="params">element, eventName, fn</span>) &#123;</span><br><span class="line">  <span class="comment">// 判断当前浏览器是否支持 addEventListener 方法</span></span><br><span class="line">  <span class="keyword">if</span> (element.<span class="property">addEventListener</span>) &#123;</span><br><span class="line">    element.<span class="title function_">addEventListener</span>(eventName, fn);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (element.<span class="property">attachment</span>) &#123;</span><br><span class="line">    element.<span class="title function_">attachEvent</span>(<span class="string">&#x27;on&#x27;</span> + eventName, fn);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 相当于 element.onclick = fn</span></span><br><span class="line">    element[<span class="string">&#x27;on&#x27;</span> + eventName] = fn</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-删除事件"><a href="#3-2-删除事件" class="headerlink" title="3.2 删除事件"></a>3.2 删除事件</h3><h4 id="3-2-1-删除事件的方式："><a href="#3-2-1-删除事件的方式：" class="headerlink" title="3.2.1 删除事件的方式："></a>3.2.1 删除事件的方式：</h4><ul>
<li><p>传统注册方式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eventTarget.<span class="property">onclick</span> = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法监听注册方式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">eventTarget.<span class="title function_">removeEventListener</span>(type, listener, useCapture)</span><br><span class="line"></span><br><span class="line">eventTarget.<span class="title function_">detachEvent</span>(eventNameWithOn, callback)</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="3-2-2-删除事件兼容性解决方案"><a href="#3-2-2-删除事件兼容性解决方案" class="headerlink" title="3.2.2 删除事件兼容性解决方案"></a>3.2.2 删除事件兼容性解决方案</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">removeEventListener</span>(<span class="params">element, eventName, fn</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (element.<span class="property">removeEventListener</span>) &#123;</span><br><span class="line">    element.<span class="title function_">removeEventListener</span>(eventName, fn);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (element.<span class="property">detachment</span>) &#123;</span><br><span class="line">    element.<span class="title function_">detachEvent</span>(<span class="string">&#x27;on&#x27;</span> + eventName, fn);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    element[<span class="string">&#x27;on&#x27;</span> + eventName] = <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-3-DOM-事件流"><a href="#3-3-DOM-事件流" class="headerlink" title="3.3 DOM 事件流"></a>3.3 DOM 事件流</h3><p>事件流描述的是从页面中接收事件的顺序。</p>
<p>事件发生时会在元素节点之间按照特定的顺序传播，这个传播过程即 DOM 事件流。</p>
<p>比如我们给一个div 注册了点击事件：</p>
<p>DOM 事件流分为3个阶段： </p>
<ol>
<li>捕获阶段</li>
<li>当前目标阶段</li>
<li>冒泡阶段</li>
</ol>
<ul>
<li>事件冒泡： IE 最早提出，事件开始时由最具体的元素接收，然后逐级向上传播到到 DOM 最顶层节点的过程。</li>
<li>事件捕获： 网景最早提出，由 DOM 最顶层节点开始，然后逐级向下传播到到最具体的元素接收的过程。</li>
</ul>
<p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238393.png" alt="image-20220319201706008"></p>
<p>实际开发中我们很少使用事件捕获，我们更关注事件冒泡。</p>
<h3 id="3-4-事件对象"><a href="#3-4-事件对象" class="headerlink" title="3.4 事件对象"></a>3.4 事件对象</h3><h4 id="3-4-1-什么是事件对象"><a href="#3-4-1-什么是事件对象" class="headerlink" title="3.4.1 什么是事件对象"></a>3.4.1 什么是事件对象</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">eventTarget.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params">event</span>) &#123;&#125; </span><br><span class="line">eventTarget.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;&#125;）<span class="comment">// 这个 event 就是事件对象，我们还喜欢的写成 e 或者 evt</span></span><br></pre></td></tr></table></figure>

<p>event 对象代表事件的状态，比如键盘按键的状态、鼠标的位置、鼠标按钮的状态。事件发生后，跟事件相关的一系列信息数据的集合都放到这个对象里面，这个对象就是事件对象 event，它有很多属性和方法。</p>
<p>比如：  </p>
<ol>
<li>谁绑定了这个事件。</li>
<li>鼠标触发事件的话，会得到鼠标的相关信息，如鼠标位置。</li>
<li>键盘触发事件的话，会得到键盘的相关信息，如按了哪个键。</li>
</ol>
<h4 id="3-4-2-事件对象的使用语法"><a href="#3-4-2-事件对象的使用语法" class="headerlink" title="3.4.2 事件对象的使用语法"></a>3.4.2 事件对象的使用语法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">eventTarget.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="comment">// 这个 event 就是事件对象，我们还喜欢的写成 e 或者 evt </span></span><br><span class="line">&#125; </span><br><span class="line">eventTarget.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="comment">// 这个 event 就是事件对象，我们还喜欢的写成 e 或者 evt </span></span><br><span class="line">&#125;）</span><br></pre></td></tr></table></figure>

<p>这个 event  是个形参，系统帮我们设定为事件对象，不需要传递实参过去。</p>
<p>当我们注册事件时， event 对象就会被系统自动创建，并依次传递给事件监听器（事件处理函数）。</p>
<h4 id="3-4-3-事件对象的常见属性和方法"><a href="#3-4-3-事件对象的常见属性和方法" class="headerlink" title="3.4.3 事件对象的常见属性和方法"></a>3.4.3 事件对象的常见属性和方法</h4><p>e.target 和 this 的区别：</p>
<ul>
<li>this 是事件绑定的元素， 这个函数的调用者（绑定这个事件的元素） </li>
<li>e.target 是事件触发的元素。</li>
</ul>
<p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238515.png" alt="image-20220319202310606"></p>
<h4 id="3-4-4-阻止事件冒泡"><a href="#3-4-4-阻止事件冒泡" class="headerlink" title="3.4.4 阻止事件冒泡"></a>3.4.4 阻止事件冒泡</h4><p>语法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">e.<span class="title function_">stopPropagation</span>()</span><br></pre></td></tr></table></figure>

<h4 id="3-4-5-事件委托"><a href="#3-4-5-事件委托" class="headerlink" title="3.4.5 事件委托"></a>3.4.5 事件委托</h4><h5 id="事件委托的原理"><a href="#事件委托的原理" class="headerlink" title="事件委托的原理"></a>事件委托的原理</h5><p>不是每个子节点单独设置事件监听器，而是事件监听器设置在其父节点上，然后利用冒泡原理影响设置每个子节点。</p>
<h5 id="事件委托的作用"><a href="#事件委托的作用" class="headerlink" title="事件委托的作用"></a>事件委托的作用</h5><p>只操作了一次 DOM ，提高了程序的性能。</p>
<h4 id="3-4-6-常用的鼠标事件"><a href="#3-4-6-常用的鼠标事件" class="headerlink" title="3.4.6 常用的鼠标事件"></a>3.4.6 常用的鼠标事件</h4><h5 id="鼠标事件"><a href="#鼠标事件" class="headerlink" title="鼠标事件"></a>鼠标事件</h5><p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238047.png" alt="image-20220319202620917"></p>
<ul>
<li>禁止鼠标右键菜单</li>
</ul>
<p>contextmenu主要控制应该何时显示上下文菜单，主要用于程序员取消默认的上下文菜单</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;contextmenu&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">e.<span class="title function_">preventDefault</span>();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>禁止鼠标选中（selectstart 开始选中）</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;selectstart&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    e.<span class="title function_">preventDefault</span>();</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure>

<h5 id="鼠标事件对象"><a href="#鼠标事件对象" class="headerlink" title="鼠标事件对象"></a>鼠标事件对象</h5><p>event对象代表事件的状态，跟事件相关的一系列信息的集合。现阶段我们主要是用鼠标事件对象 MouseEvent 和键盘事件对象 KeyboardEvent。</p>
<p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192028082.png" alt="image-20220319202829039"></p>
<p><strong>示例：跟随鼠标移动的图片</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pic = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;img&#x27;</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> x = e.<span class="property">pageX</span>;</span><br><span class="line">  <span class="keyword">var</span> y = e.<span class="property">pageY</span>;</span><br><span class="line">  pic.<span class="property">style</span>.<span class="property">top</span> = y - <span class="number">40</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">  pic.<span class="property">style</span>.<span class="property">left</span> = x - <span class="number">50</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="3-4-7-常用的键盘事件"><a href="#3-4-7-常用的键盘事件" class="headerlink" title="3.4.7 常用的键盘事件"></a>3.4.7 常用的键盘事件</h4><h5 id="键盘事件"><a href="#键盘事件" class="headerlink" title="键盘事件"></a>键盘事件</h5><p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192032870.png" alt="image-20220319203250830"></p>
<h5 id="键盘事件对象"><a href="#键盘事件对象" class="headerlink" title="键盘事件对象"></a>键盘事件对象</h5><p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192033425.png" alt="image-20220319203330391"></p>
<h2 id="4-BOM"><a href="#4-BOM" class="headerlink" title="4. BOM"></a>4. BOM</h2><h3 id="4-1-BOM-概述"><a href="#4-1-BOM-概述" class="headerlink" title="4.1 BOM 概述"></a>4.1 BOM 概述</h3><h4 id="4-1-1-什么是-BOM"><a href="#4-1-1-什么是-BOM" class="headerlink" title="4.1.1 什么是 BOM"></a>4.1.1 什么是 BOM</h4><p>BOM（Browser Object Model）即浏览器对象模型，它提供了独立于内容而与浏览器窗口进行交互的对象，其核心对象是 window。</p>
<p>BOM 由一系列相关的对象构成，并且每个对象都提供了很多方法与属性。</p>
<p>BOM 缺乏标准，JavaScript 语法的标准化组织是 ECMA，DOM 的标准化组织是 W3C，BOM 最初是Netscape 浏览器标准的一部分。</p>
<h5 id="DOM-与-BOM"><a href="#DOM-与-BOM" class="headerlink" title="DOM 与 BOM"></a>DOM 与 BOM</h5><p>DOM：</p>
<ul>
<li>文档对象模型</li>
<li>DOM 就是把「文档」当做一个「对象」来看待</li>
<li>DOM 的顶级对象是 document</li>
<li>DOM 主要学习的是操作页面元素</li>
<li>DOM 是 W3C 标准规范</li>
</ul>
<p>BOM：</p>
<ul>
<li>浏览器对象模型</li>
<li>把「浏览器」当做一个「对象」来看待</li>
<li>BOM 的顶级对象是 window</li>
<li>BOM 学习的是浏览器窗口交互的一些对象</li>
<li>BOM 是浏览器厂商在各自浏览器上定义的，兼容性较差</li>
</ul>
<h4 id="4-1-2-BOM-的构成"><a href="#4-1-2-BOM-的构成" class="headerlink" title="4.1.2 BOM 的构成"></a>4.1.2 BOM 的构成</h4><p>BOM 比 DOM 更大，它包含 DOM。</p>
<p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238324.png" alt="image-20220319203722515"></p>
<p>window 对象是浏览器的顶级对象，它具有双重角色。</p>
<ul>
<li>它是 JS 访问浏览器窗口的一个接口。</li>
<li>它是一个全局对象。定义在全局作用域中的变量、函数都会变成 window 对象的属性和方法。在调用的时候可以省略 window，前面学习的对话框都属于 window 对象方法，如 alert()、prompt() 等</li>
</ul>
<h3 id="4-2-window-对象常见事件"><a href="#4-2-window-对象常见事件" class="headerlink" title="4.2 window 对象常见事件"></a>4.2 window 对象常见事件</h3><h4 id="4-2-1-窗口加载事件"><a href="#4-2-1-窗口加载事件" class="headerlink" title="4.2.1 窗口加载事件"></a>4.2.1 窗口加载事件</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">或者 </span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;load&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;);</span><br></pre></td></tr></table></figure>

<p>window.onload 是窗口 (页面）加载事件,当文档内容完全加载完成会触发该事件(包括图像、脚本文件、CSS 文件等), 就调用的处理函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;)</span><br></pre></td></tr></table></figure>

<p>DOMContentLoaded 事件触发时，仅当DOM加载完成，不包括样式表，图片，flash等等。</p>
<p>如果页面的图片很多的话, 从用户访问到onload触发可能需要较长的时间, 交互效果就不能实现，必然影响用户的体验，此时用 DOMContentLoaded 事件比较合适。</p>
<h4 id="4-2-2-调整窗口大小事件"><a href="#4-2-2-调整窗口大小事件" class="headerlink" title="4.2.2 调整窗口大小事件"></a>4.2.2 调整窗口大小事件</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onresize</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>window.onresize 是调整窗口大小加载事件,  当触发时就调用的处理函数。</p>
<h3 id="4-3-定时器"><a href="#4-3-定时器" class="headerlink" title="4.3 定时器"></a>4.3 定时器</h3><h4 id="4-3-1-两种定时器"><a href="#4-3-1-两种定时器" class="headerlink" title="4.3.1 两种定时器"></a>4.3.1 两种定时器</h4><p>window 对象给我们提供了 2 个非常好用的方法-定时器。</p>
<ul>
<li>setTimeout()</li>
<li>setInterval()</li>
</ul>
<h4 id="4-3-2-setTimeout-定时器"><a href="#4-3-2-setTimeout-定时器" class="headerlink" title="4.3.2 setTimeout() 定时器"></a>4.3.2 setTimeout() 定时器</h4><p>语法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> timeoutID = <span class="variable language_">window</span>.<span class="built_in">setTimeout</span>(调用函数, [延迟的毫秒数]);</span><br></pre></td></tr></table></figure>

<p>setTimeout() 方法用于设置一个定时器，该定时器<strong>在定时器到期后执行调用函数</strong>。</p>
<p>因为定时器可能有很多，所以我们经常给定时器赋值一个标识符。</p>
<h4 id="4-3-3-停止-setTimeout-定时器"><a href="#4-3-3-停止-setTimeout-定时器" class="headerlink" title="4.3.3 停止 setTimeout() 定时器"></a>4.3.3 停止 setTimeout() 定时器</h4><p>语法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="built_in">clearTimeout</span>(timeoutID)</span><br></pre></td></tr></table></figure>

<p>clearTimeout()方法取消了先前通过调用 setTimeout() 建立的定时器。</p>
<h4 id="4-3-4-setInterval-定时器"><a href="#4-3-4-setInterval-定时器" class="headerlink" title="4.3.4 setInterval() 定时器"></a>4.3.4 setInterval() 定时器</h4><p>语法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="built_in">setInterval</span>(回调函数, [间隔的毫秒数]);</span><br></pre></td></tr></table></figure>

<p>setInterval() 方法重复调用一个函数，<strong>每隔这个时间，就去调用一次回调函数</strong>。</p>
<h4 id="4-3-5-停止-setInterval-定时器"><a href="#4-3-5-停止-setInterval-定时器" class="headerlink" title="4.3.5 停止 setInterval() 定时器"></a>4.3.5 停止 setInterval() 定时器</h4><p>语法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="built_in">clearInterval</span>(intervalID);</span><br></pre></td></tr></table></figure>

<p>clearInterval()方法取消了先前通过调用 setInterval()建立的定时器。</p>
<h4 id="4-3-6-this"><a href="#4-3-6-this" class="headerlink" title="4.3.6 this"></a>4.3.6 this</h4><p>this的指向在函数定义的时候是确定不了的，只有函数执行的时候才能确定this到底指向谁，一般情况下this的最终指向的是那个调用它的对象</p>
<p>现阶段，我们先了解一下几个this指向</p>
<ol>
<li>全局作用域或者普通函数中this指向全局对象window（注意定时器里面的this指向window）</li>
<li>方法调用中谁调用this指向谁</li>
<li>构造函数中this指向构造函数的实例</li>
</ol>
<h3 id="4-4-JS-执行队列"><a href="#4-4-JS-执行队列" class="headerlink" title="4.4 JS 执行队列"></a>4.4 JS 执行队列</h3><h4 id="4-4-1-JS是单线程"><a href="#4-4-1-JS是单线程" class="headerlink" title="4.4.1 JS是单线程"></a>4.4.1 JS是单线程</h4><p>JavaScript 语言的一大特点就是单线程，也就是说，同一个时间只能做一件事。这是因为 Javascript 这门脚本语言诞生的使命所致——JavaScript 是为处理页面中用户的交互，以及操作 DOM 而诞生的。比如我们对某个 DOM 元素进行添加和删除操作，不能同时进行。 应该先进行添加，之后再删除。</p>
<p>单线程就意味着，所有任务需要排队，前一个任务结束，才会执行后一个任务。这样所导致的问题是： 如果 JS 执行的时间过长，这样就会造成页面的渲染不连贯，导致页面渲染加载阻塞的感觉。</p>
<h4 id="4-4-2-同步和异步"><a href="#4-4-2-同步和异步" class="headerlink" title="4.4.2 同步和异步"></a>4.4.2 同步和异步</h4><p>为了解决这个问题，利用多核 CPU 的计算能力，HTML5 提出 Web Worker 标准，允许 JavaScript 脚本创建多个线程。于是，JS 中出现了同步和异步。</p>
<h5 id="同步"><a href="#同步" class="headerlink" title="同步"></a>同步</h5><p>前一个任务结束后再执行后一个任务，程序的执行顺序与任务的排列顺序是一致的、同步的。</p>
<h5 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h5><p>在做这件事的同时，你还可以去处理其他事情。</p>
<h5 id="同步任务"><a href="#同步任务" class="headerlink" title="同步任务"></a>同步任务</h5><p>同步任务都在主线程上执行，形成一个执行栈。</p>
<h5 id="异步任务"><a href="#异步任务" class="headerlink" title="异步任务"></a>异步任务</h5><p>JS 的异步是通过回调函数实现的。</p>
<p>一般而言，异步任务有以下三种类型:</p>
<ol>
<li>普通事件，如 click、resize 等</li>
<li>资源加载，如 load、error 等</li>
<li>定时器，包括 setInterval、setTimeout 等</li>
</ol>
<h5 id="Promise-的使用"><a href="#Promise-的使用" class="headerlink" title="Promise 的使用"></a>Promise 的使用</h5><p>如果要多次调用异步函数，一般实现：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;First&#x27;</span>);</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;second&#x27;</span>);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Third&#x27;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>这段程序实现了这个功能，但是它是用 “函数瀑布” 来实现的。可想而知，在一个复杂的程序当中，用 “函数瀑布” 实现的程序无论是维护还是异常处理都是一件特别繁琐的事情，而且会让缩进格式变得非常冗赘。</p>
<p>现在用 Promise 来实现同样的功能：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;First&quot;</span>);</span><br><span class="line">        <span class="title function_">resolve</span>();</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Second&quot;</span>);</span><br><span class="line">            <span class="title function_">resolve</span>();</span><br><span class="line">        &#125;, <span class="number">4000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Third&quot;</span>);</span><br><span class="line">    &#125;, <span class="number">3000</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<p>异步任务相关<strong>回调函数</strong>添加到<strong>任务队列</strong>中（任务队列也称为消息队列）。</p>
<p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192051558.png" alt="image-20220319205141756"></p>
<h4 id="4-4-3-JS-执行机制"><a href="#4-4-3-JS-执行机制" class="headerlink" title="4.4.3 JS 执行机制"></a>4.4.3 JS 执行机制</h4><ul>
<li>先执行执行栈中的同步任务。</li>
<li>异步任务（回调函数）放入任务队列中。</li>
<li>一旦执行栈中的所有同步任务执行完毕，系统就会按次序读取任务队列中的异步任务，于是被读取的异步任务结束等待状态，进入执行栈，开始执行。</li>
</ul>
<p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238794.png" alt="image-20220319205631575"></p>
<p>由于主线程不断的重复获得任务、执行任务、再获取任务、再执行，所以这种机制被称为事件循环（ event loop）。</p>
<h3 id="4-5-location-对象"><a href="#4-5-location-对象" class="headerlink" title="4.5 location 对象"></a>4.5 location 对象</h3><h4 id="4-5-1-什么是-location-对象"><a href="#4-5-1-什么是-location-对象" class="headerlink" title="4.5.1 什么是 location 对象"></a>4.5.1 什么是 location 对象</h4><p>window 对象给我们提供了一个 location 属性用于获取或设置窗体的 URL，并且可以用于解析 URL 。 因为这个属性返回的是一个对象，所以我们将这个属性也称为 location 对象。</p>
<h4 id="4-5-2-URL"><a href="#4-5-2-URL" class="headerlink" title="4.5.2 URL"></a>4.5.2 URL</h4><p>统一资源定位符 (Uniform Resource Locator, URL) 是互联网上标准资源的地址。互联网上的每个文件都有一个唯一的 URL，它包含的信息指出文件的位置以及浏览器应该怎么处理它。</p>
<p>URL 的一般语法格式为：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">protocol</span>:<span class="comment">//host[:port]/path/[?query]#fragment</span></span><br><span class="line">如：</span><br><span class="line"><span class="attr">http</span>:<span class="comment">//www.itcast.cn/index.html?name=andy&amp;age=18#link</span></span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238657.png" alt="image-20220319205934425"></p>
<h4 id="4-5-3-location-对象的属性"><a href="#4-5-3-location-对象的属性" class="headerlink" title="4.5.3 location 对象的属性"></a>4.5.3 location 对象的属性</h4><p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192100136.png" alt="image-20220319210007080"></p>
<h4 id="4-5-4-location-对象的方法"><a href="#4-5-4-location-对象的方法" class="headerlink" title="4.5.4 location 对象的方法"></a>4.5.4 location 对象的方法</h4><p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192100841.png" alt="image-20220319210054799"></p>
<h4 id="4-5-5-navigator-对象"><a href="#4-5-5-navigator-对象" class="headerlink" title="4.5.5 navigator 对象"></a>4.5.5 navigator 对象</h4><p>navigator 对象包含有关浏览器的信息，它有很多属性，我们最常用的是 userAgent，该属性可以返回由客户机发送服务器的 user-agent 头部的值。</p>
<p>下面前端代码可以判断用户是哪个终端打开页面，实现跳转</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>((navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i</span>))) &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> = <span class="string">&quot;&quot;</span>;     <span class="comment">//手机</span></span><br><span class="line"> &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> = <span class="string">&quot;&quot;</span>;     <span class="comment">//电脑</span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-5-6-history-对象"><a href="#4-5-6-history-对象" class="headerlink" title="4.5.6 history 对象"></a>4.5.6 history 对象</h4><p>window 对象给我们提供了一个 history 对象，与浏览器历史记录进行交互。该对象包含用户（在浏览器窗口中）访问过的 URL。</p>
<p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238629.png" alt="image-20220319210249715"></p>
<h2 id="5-PC-端网页特效"><a href="#5-PC-端网页特效" class="headerlink" title="5. PC 端网页特效"></a>5. PC 端网页特效</h2><h3 id="5-1-元素偏移量-offset-系列"><a href="#5-1-元素偏移量-offset-系列" class="headerlink" title="5.1 元素偏移量 offset 系列"></a>5.1 元素偏移量 offset 系列</h3><h4 id="5-1-1-offset-概述"><a href="#5-1-1-offset-概述" class="headerlink" title="5.1.1 offset 概述"></a>5.1.1 offset 概述</h4><p>offset 翻译过来就是偏移量， 我们使用 offset 系列相关属性可以动态的得到该元素的位置（偏移）、大小等。</p>
<ul>
<li>获得元素距离带有定位父元素的位置</li>
<li>获得元素自身的大小（宽度高度）</li>
</ul>
<blockquote>
<p>注意： 返回的数值都不带单位</p>
</blockquote>
<p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238620.png" alt="image-20220319210807317"></p>
<h5 id="offset-系列常用属性："><a href="#offset-系列常用属性：" class="headerlink" title="offset 系列常用属性："></a>offset 系列常用属性：</h5><p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192106414.png" alt="image-20220319210609370"></p>
<h4 id="5-1-2-offset-与-style-的区别"><a href="#5-1-2-offset-与-style-的区别" class="headerlink" title="5.1.2 offset 与 style 的区别"></a>5.1.2 offset 与 style 的区别</h4><h5 id="offset"><a href="#offset" class="headerlink" title="offset"></a>offset</h5><ul>
<li>offset 可以得到任意样式表中的样式值</li>
<li>offset 系列获得的数值是没有单位的</li>
<li>offsetWidth 包含padding+border+width</li>
<li>offsetWidth 等属性是只读属性，只能获取不能赋值</li>
<li>所以，我们想要获取元素大小位置，用offset更合适</li>
</ul>
<h5 id="style"><a href="#style" class="headerlink" title="style"></a>style</h5><ul>
<li>style 只能得到行内样式表中的样式值</li>
<li>style.width 获得的是带有单位的字符串</li>
<li>style.width 获得不包含padding和border 的值</li>
<li>style.width 是可读写属性，可以获取也可以赋值</li>
<li>所以，我们想要给元素更改值，则需要用style改变</li>
</ul>
<h6 id="使用示例："><a href="#使用示例：" class="headerlink" title="使用示例："></a>使用示例：</h6><p>获取鼠标在盒子内的坐标</p>
<p>用鼠标距离页面的坐标减去盒子在页面中的距离，得到 鼠标在盒子内的坐标</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.box&#x27;</span>);</span><br><span class="line">box.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> x = e.<span class="property">pageX</span> - <span class="variable language_">this</span>.<span class="property">offsetLeft</span>;</span><br><span class="line">  <span class="keyword">var</span> y = e.<span class="property">pageY</span> - <span class="variable language_">this</span>.<span class="property">offsetTop</span>;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">innerHTML</span> = <span class="string">&#x27;x坐标是&#x27;</span> + x + <span class="string">&#x27;y坐标是&#x27;</span> + y;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="5-2-元素可视区-client-系列"><a href="#5-2-元素可视区-client-系列" class="headerlink" title="5.2 元素可视区 client 系列"></a>5.2 元素可视区 client 系列</h3><p>client 翻译过来就是客户端，我们使用 client 系列的相关属性来获取元素可视区的相关信息。通过 client 系列的相关属性可以动态的得到该元素的边框大小、元素大小等。</p>
<p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238638.png" alt="image-20220319211335335"></p>
<p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192238648.png" alt="image-20220319211357932"></p>
<h3 id="5-3-元素滚动-scroll-系列"><a href="#5-3-元素滚动-scroll-系列" class="headerlink" title="5.3 元素滚动 scroll 系列"></a>5.3 元素滚动 scroll 系列</h3><h4 id="5-3-1-元素-scroll-系列属性"><a href="#5-3-1-元素-scroll-系列属性" class="headerlink" title="5.3.1 元素 scroll 系列属性"></a>5.3.1 元素 scroll 系列属性</h4><p>scroll 翻译过来就是滚动的，我们使用 scroll 系列的相关属性可以动态的得到该元素的大小、滚动距离等。</p>
<p><img src="https://gitee.com/hreatedotaer/markdown-images/raw/master/202203192115006.png" alt="image-20220319211536966"></p>
<h4 id="5-3-2-页面被卷去的头部"><a href="#5-3-2-页面被卷去的头部" class="headerlink" title="5.3.2 页面被卷去的头部"></a>5.3.2 页面被卷去的头部</h4><p>如果浏览器的高（或宽）度不足以显示整个页面时，会自动出现滚动条。当滚动条向下滚动时，页面上面被隐藏掉的高度，我们就称为页面被卷去的头部。滚动条在滚动时会触发 onscroll 事件。</p>
<h6 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h6><ul>
<li>开始侧边栏是绝对定位</li>
<li>页面滚到一定位置，侧边栏改为固定定位</li>
<li>若要固定右侧侧边栏，出现返回顶部</li>
</ul>
<blockquote>
<p>页面被卷去的头部：可以通过window.pageYOffset 获得  如果是被卷去的左侧 window.pageXOffset</p>
<p>元素被卷去的头部是 element.scrollTop  , 如果是页面被卷去的头部 则是 window.pageYOffset</p>
</blockquote>
<h4 id="5-3-3-获取页面被卷去的头部："><a href="#5-3-3-获取页面被卷去的头部：" class="headerlink" title="5.3.3 获取页面被卷去的头部："></a>5.3.3 获取页面被卷去的头部：</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getScroll</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">left</span>: <span class="variable language_">window</span>.<span class="property">pageXOffset</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollLeft</span>,</span><br><span class="line">    <span class="attr">top</span>: <span class="variable language_">window</span>.<span class="property">pageYOffset</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-4-动画函数封装"><a href="#5-4-动画函数封装" class="headerlink" title="5.4 动画函数封装"></a>5.4 动画函数封装</h3><h4 id="5-4-1-动画实现原理"><a href="#5-4-1-动画实现原理" class="headerlink" title="5.4.1 动画实现原理"></a>5.4.1 动画实现原理</h4><p>核心原理：通过定时器 setInterval() 不断移动盒子位置。</p>
<h4 id="5-4-2-动画函数简单封装"><a href="#5-4-2-动画函数简单封装" class="headerlink" title="5.4.2 动画函数简单封装"></a>5.4.2 动画函数简单封装</h4><p>注意函数需要传递2个参数，动画对象和移动到的距离。</p>
<h4 id="5-4-3-动画函数给不同元素记录不同定时器"><a href="#5-4-3-动画函数给不同元素记录不同定时器" class="headerlink" title="5.4.3 动画函数给不同元素记录不同定时器"></a>5.4.3 动画函数给不同元素记录不同定时器</h4><p>如果多个元素都使用这个动画函数，每次都要var 声明定时器。我们可以给不同的元素使用不同的定时器（自己专门用自己的定时器）。</p>
<p>核心原理：利用 JS 是一门动态语言，可以很方便的给当前对象添加属性。</p>
<h4 id="5-4-4-缓动效果原理"><a href="#5-4-4-缓动效果原理" class="headerlink" title="5.4.4 缓动效果原理"></a>5.4.4 缓动效果原理</h4><p>缓动动画就是让元素运动速度有所变化，最常见的是让速度慢慢停下来<br>思路：</p>
<ol>
<li>让盒子每次移动的距离慢慢变小，速度就会慢慢落下来。</li>
<li>核心算法： (目标值 - 现在的位置 )   &#x2F;   10    做为每次移动的距离 步长</li>
<li>停止的条件是： 让当前盒子位置等于目标位置就停止定时器  </li>
<li>注意步长值需要取整</li>
</ol>
<h2 id="5-本地存储"><a href="#5-本地存储" class="headerlink" title="5. 本地存储"></a>5. 本地存储</h2><p>随着互联网的快速发展，基于网页的应用越来越普遍，同时也变的越来越复杂，为了满足各种各样的需求，会经常性在本地存储大量的数据，HTML5规范提出了相关解决方案。</p>
<h6 id="本地存储的特性："><a href="#本地存储的特性：" class="headerlink" title="本地存储的特性："></a>本地存储的特性：</h6><ul>
<li>数据存储在用户浏览器中</li>
<li>设置、读取方便、甚至页面刷新不丢失数据</li>
<li>容量较大，sessionStorage约5M、localStorage约20M</li>
<li>只能存储字符串，可以将对象JSON.stringify() 编码后存储</li>
</ul>
<h3 id="5-1-window-sessionStorage"><a href="#5-1-window-sessionStorage" class="headerlink" title="5.1 window.sessionStorage"></a>5.1 window.sessionStorage</h3><ul>
<li>生命周期为关闭浏览器窗口</li>
<li>在同一个窗口(页面)下数据可以共享</li>
<li>以键值对的形式存储使用</li>
</ul>
<h6 id="存储数据："><a href="#存储数据：" class="headerlink" title="存储数据："></a>存储数据：</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sessionStorage.<span class="title function_">setItem</span>(key, value)</span><br></pre></td></tr></table></figure>

<h6 id="获取数据："><a href="#获取数据：" class="headerlink" title="获取数据："></a>获取数据：</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sessionStorage.<span class="title function_">getItem</span>(key)</span><br></pre></td></tr></table></figure>

<h6 id="删除数据："><a href="#删除数据：" class="headerlink" title="删除数据："></a>删除数据：</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sessionStorage.<span class="title function_">removeItem</span>(key)</span><br></pre></td></tr></table></figure>

<h6 id="删除所有数据："><a href="#删除所有数据：" class="headerlink" title="删除所有数据："></a>删除所有数据：</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sessionStorage.<span class="title function_">clear</span>()</span><br></pre></td></tr></table></figure>

<h3 id="5-2-window-localStorage"><a href="#5-2-window-localStorage" class="headerlink" title="5.2 window.localStorage"></a>5.2 window.localStorage</h3><ul>
<li>生命周期永久生效，除非手动删除 否则关闭页面也会存在</li>
<li>可以多窗口（页面）共享（同一浏览器可以共享）</li>
<li>以键值对的形式存储使用</li>
</ul>
<h6 id="存储数据：-1"><a href="#存储数据：-1" class="headerlink" title="存储数据："></a>存储数据：</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(key, value)</span><br></pre></td></tr></table></figure>

<h6 id="获取数据：-1"><a href="#获取数据：-1" class="headerlink" title="获取数据："></a>获取数据：</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(key)</span><br></pre></td></tr></table></figure>

<h6 id="删除数据：-1"><a href="#删除数据：-1" class="headerlink" title="删除数据："></a>删除数据：</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(key)</span><br></pre></td></tr></table></figure>

<h6 id="删除所有数据：-1"><a href="#删除所有数据：-1" class="headerlink" title="删除所有数据："></a>删除所有数据：</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">clear</span>()</span><br></pre></td></tr></table></figure>


    </div>

    
    
    

    
        <div class="reward-container">
  <div>原创技术分享，您的支持将鼓励我继续创作。</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.jpg" alt="HreateHakunari 微信支付">
        <p>微信支付</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.jpg" alt="HreateHakunari 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>HreateHakunari
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://hreatehakunari.com/2022/03/19/JavaScript/" title="JavaScript">http://hreatehakunari.com/2022/03/19/JavaScript/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/JavaScript/" rel="tag"># JavaScript</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/03/19/Vue2-Springboot%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE/" rel="prev" title="Vue2+Springboot练手项目">
      <i class="fa fa-chevron-left"></i> Vue2+Springboot练手项目
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/04/03/pigx%E7%9A%84activiti%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B%E4%B8%AD%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E7%9A%84%E5%8F%98%E5%8C%96/" rel="next" title="pigx的activiti运行过程中数据库表的变化">
      pigx的activiti运行过程中数据库表的变化 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Web-APIs-%E5%92%8C-JS-%E7%9A%84%E5%9F%BA%E7%A1%80%E5%85%B3%E8%81%94%E6%80%A7"><span class="nav-number">1.</span> <span class="nav-text">1. Web APIs 和 JS 的基础关联性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-JS-%E7%9A%84%E7%BB%84%E6%88%90"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 JS 的组成</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-API-%E5%92%8C-WebAPI"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 API 和 WebAPI</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-DOM"><span class="nav-number">2.</span> <span class="nav-text">2. DOM</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-DOM%E7%AE%80%E4%BB%8B"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 DOM简介</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-1-%E4%BB%80%E4%B9%88%E6%98%AFDOM"><span class="nav-number">2.1.1.</span> <span class="nav-text">2.1.1 什么是DOM</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-2-DOM%E6%A0%91"><span class="nav-number">2.1.2.</span> <span class="nav-text">2.1.2 DOM树</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0"><span class="nav-number">2.2.</span> <span class="nav-text">2.2 获取元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-%E4%BA%8B%E4%BB%B6"><span class="nav-number">2.3.</span> <span class="nav-text">2.3 事件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-1-%E4%BA%8B%E4%BB%B6%E4%B8%89%E8%A6%81%E7%B4%A0%E3%80%81%E6%89%A7%E8%A1%8C%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%AD%A5%E9%AA%A4%EF%BC%9A"><span class="nav-number">2.3.1.</span> <span class="nav-text">2.3.1 事件三要素、执行事件的步骤：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0"><span class="nav-number">2.4.</span> <span class="nav-text">2.4 操作元素</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-1-%E6%94%B9%E5%8F%98%E5%85%83%E7%B4%A0%E5%86%85%E5%AE%B9"><span class="nav-number">2.4.1.</span> <span class="nav-text">2.4.1 改变元素内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-2-%E6%94%B9%E5%8F%98%E5%85%83%E7%B4%A0%E5%B1%9E%E6%80%A7"><span class="nav-number">2.4.2.</span> <span class="nav-text">2.4.2 改变元素属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-3-%E8%A1%A8%E5%8D%95%E5%85%83%E7%B4%A0%E7%9A%84%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C"><span class="nav-number">2.4.3.</span> <span class="nav-text">2.4.3 表单元素的属性操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-4-%E6%A0%B7%E5%BC%8F%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C"><span class="nav-number">2.4.4.</span> <span class="nav-text">2.4.4 样式属性操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-5-%E6%8E%92%E4%BB%96%E6%93%8D%E4%BD%9C"><span class="nav-number">2.4.5.</span> <span class="nav-text">2.4.5 排他操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-6-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C"><span class="nav-number">2.4.6.</span> <span class="nav-text">2.4.6 自定义属性操作</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7"><span class="nav-number">2.4.6.1.</span> <span class="nav-text">获取自定义属性</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7"><span class="nav-number">2.4.6.2.</span> <span class="nav-text">设置自定义属性</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%A7%BB%E9%99%A4%E5%B1%9E%E6%80%A7"><span class="nav-number">2.4.6.3.</span> <span class="nav-text">移除属性</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-7-H5-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7"><span class="nav-number">2.4.7.</span> <span class="nav-text">2.4.7 H5 自定义属性</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE-H5-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7"><span class="nav-number">2.4.7.1.</span> <span class="nav-text">设置 H5 自定义属性</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96-H5-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7"><span class="nav-number">2.4.7.2.</span> <span class="nav-text">获取 H5 自定义属性</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-%E8%8A%82%E7%82%B9%E6%93%8D%E4%BD%9C"><span class="nav-number">2.5.</span> <span class="nav-text">2.5 节点操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-5-1-%E7%94%A8%E8%8A%82%E7%82%B9%E6%93%8D%E4%BD%9C%E7%9A%84%E5%8E%9F%E5%9B%A0%EF%BC%9A"><span class="nav-number">2.5.1.</span> <span class="nav-text">2.5.1 用节点操作的原因：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-5-2-%E8%8A%82%E7%82%B9%E6%A6%82%E8%BF%B0"><span class="nav-number">2.5.2.</span> <span class="nav-text">2.5.2 节点概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-5-3-%E8%8A%82%E7%82%B9%E5%B1%82%E7%BA%A7"><span class="nav-number">2.5.3.</span> <span class="nav-text">2.5.3 节点层级</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%88%B6%E7%BA%A7%E8%8A%82%E7%82%B9"><span class="nav-number">2.5.3.1.</span> <span class="nav-text">父级节点</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AD%90%E8%8A%82%E7%82%B9"><span class="nav-number">2.5.3.2.</span> <span class="nav-text">子节点</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%84%E5%BC%9F%E8%8A%82%E7%82%B9"><span class="nav-number">2.5.3.3.</span> <span class="nav-text">兄弟节点</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-5-4-%E6%B7%BB%E5%8A%A0%E8%8A%82%E7%82%B9"><span class="nav-number">2.5.4.</span> <span class="nav-text">2.5.4 添加节点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-5-5-%E5%88%A0%E9%99%A4%E8%8A%82%E7%82%B9"><span class="nav-number">2.5.5.</span> <span class="nav-text">2.5.5 删除节点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-5-6-%E5%A4%8D%E5%88%B6%E8%8A%82%E7%82%B9"><span class="nav-number">2.5.6.</span> <span class="nav-text">2.5.6 复制节点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-5-7-%E4%B8%89%E7%A7%8D%E5%8A%A8%E6%80%81%E5%88%9B%E5%BB%BA%E5%85%83%E7%B4%A0%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">2.5.7.</span> <span class="nav-text">2.5.7 三种动态创建元素的区别</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-6-DOM-%E9%87%8D%E7%82%B9%E6%A0%B8%E5%BF%83"><span class="nav-number">3.</span> <span class="nav-text">2.6 DOM 重点核心</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E4%BA%8B%E4%BB%B6"><span class="nav-number">4.</span> <span class="nav-text">3. 事件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-%E6%B3%A8%E5%86%8C%E4%BA%8B%E4%BB%B6"><span class="nav-number">4.1.</span> <span class="nav-text">3.1 注册事件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-1-%E6%B3%A8%E5%86%8C%E4%BA%8B%E4%BB%B6%E6%A6%82%E8%BF%B0"><span class="nav-number">4.1.1.</span> <span class="nav-text">3.1.1 注册事件概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-2-addEventListener-%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E6%96%B9%E5%BC%8F"><span class="nav-number">4.1.2.</span> <span class="nav-text">3.1.2 addEventListener 事件监听方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-3-addEventListener-%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E6%96%B9%E5%BC%8F"><span class="nav-number">4.1.3.</span> <span class="nav-text">3.1.3 addEventListener 事件监听方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-4-%E6%B3%A8%E5%86%8C%E4%BA%8B%E4%BB%B6%E5%85%BC%E5%AE%B9%E6%80%A7%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="nav-number">4.1.4.</span> <span class="nav-text">3.1.4 注册事件兼容性解决方案</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6"><span class="nav-number">4.2.</span> <span class="nav-text">3.2 删除事件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-1-%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%9A"><span class="nav-number">4.2.1.</span> <span class="nav-text">3.2.1 删除事件的方式：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-2-%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6%E5%85%BC%E5%AE%B9%E6%80%A7%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="nav-number">4.2.2.</span> <span class="nav-text">3.2.2 删除事件兼容性解决方案</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-DOM-%E4%BA%8B%E4%BB%B6%E6%B5%81"><span class="nav-number">4.3.</span> <span class="nav-text">3.3 DOM 事件流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="nav-number">4.4.</span> <span class="nav-text">3.4 事件对象</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4-1-%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="nav-number">4.4.1.</span> <span class="nav-text">3.4.1 什么是事件对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4-2-%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BD%BF%E7%94%A8%E8%AF%AD%E6%B3%95"><span class="nav-number">4.4.2.</span> <span class="nav-text">3.4.2 事件对象的使用语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4-3-%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B8%B8%E8%A7%81%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95"><span class="nav-number">4.4.3.</span> <span class="nav-text">3.4.3 事件对象的常见属性和方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4-4-%E9%98%BB%E6%AD%A2%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1"><span class="nav-number">4.4.4.</span> <span class="nav-text">3.4.4 阻止事件冒泡</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4-5-%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98"><span class="nav-number">4.4.5.</span> <span class="nav-text">3.4.5 事件委托</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98%E7%9A%84%E5%8E%9F%E7%90%86"><span class="nav-number">4.4.5.1.</span> <span class="nav-text">事件委托的原理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-number">4.4.5.2.</span> <span class="nav-text">事件委托的作用</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4-6-%E5%B8%B8%E7%94%A8%E7%9A%84%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6"><span class="nav-number">4.4.6.</span> <span class="nav-text">3.4.6 常用的鼠标事件</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6"><span class="nav-number">4.4.6.1.</span> <span class="nav-text">鼠标事件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="nav-number">4.4.6.2.</span> <span class="nav-text">鼠标事件对象</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4-7-%E5%B8%B8%E7%94%A8%E7%9A%84%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6"><span class="nav-number">4.4.7.</span> <span class="nav-text">3.4.7 常用的键盘事件</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6"><span class="nav-number">4.4.7.1.</span> <span class="nav-text">键盘事件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="nav-number">4.4.7.2.</span> <span class="nav-text">键盘事件对象</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-BOM"><span class="nav-number">5.</span> <span class="nav-text">4. BOM</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-BOM-%E6%A6%82%E8%BF%B0"><span class="nav-number">5.1.</span> <span class="nav-text">4.1 BOM 概述</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-1-%E4%BB%80%E4%B9%88%E6%98%AF-BOM"><span class="nav-number">5.1.1.</span> <span class="nav-text">4.1.1 什么是 BOM</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#DOM-%E4%B8%8E-BOM"><span class="nav-number">5.1.1.1.</span> <span class="nav-text">DOM 与 BOM</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-2-BOM-%E7%9A%84%E6%9E%84%E6%88%90"><span class="nav-number">5.1.2.</span> <span class="nav-text">4.1.2 BOM 的构成</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-window-%E5%AF%B9%E8%B1%A1%E5%B8%B8%E8%A7%81%E4%BA%8B%E4%BB%B6"><span class="nav-number">5.2.</span> <span class="nav-text">4.2 window 对象常见事件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-1-%E7%AA%97%E5%8F%A3%E5%8A%A0%E8%BD%BD%E4%BA%8B%E4%BB%B6"><span class="nav-number">5.2.1.</span> <span class="nav-text">4.2.1 窗口加载事件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-2-%E8%B0%83%E6%95%B4%E7%AA%97%E5%8F%A3%E5%A4%A7%E5%B0%8F%E4%BA%8B%E4%BB%B6"><span class="nav-number">5.2.2.</span> <span class="nav-text">4.2.2 调整窗口大小事件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-number">5.3.</span> <span class="nav-text">4.3 定时器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-1-%E4%B8%A4%E7%A7%8D%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-number">5.3.1.</span> <span class="nav-text">4.3.1 两种定时器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-2-setTimeout-%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-number">5.3.2.</span> <span class="nav-text">4.3.2 setTimeout() 定时器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-3-%E5%81%9C%E6%AD%A2-setTimeout-%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-number">5.3.3.</span> <span class="nav-text">4.3.3 停止 setTimeout() 定时器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-4-setInterval-%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-number">5.3.4.</span> <span class="nav-text">4.3.4 setInterval() 定时器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-5-%E5%81%9C%E6%AD%A2-setInterval-%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-number">5.3.5.</span> <span class="nav-text">4.3.5 停止 setInterval() 定时器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-6-this"><span class="nav-number">5.3.6.</span> <span class="nav-text">4.3.6 this</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-JS-%E6%89%A7%E8%A1%8C%E9%98%9F%E5%88%97"><span class="nav-number">5.4.</span> <span class="nav-text">4.4 JS 执行队列</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-1-JS%E6%98%AF%E5%8D%95%E7%BA%BF%E7%A8%8B"><span class="nav-number">5.4.1.</span> <span class="nav-text">4.4.1 JS是单线程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-2-%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5"><span class="nav-number">5.4.2.</span> <span class="nav-text">4.4.2 同步和异步</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%90%8C%E6%AD%A5"><span class="nav-number">5.4.2.1.</span> <span class="nav-text">同步</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%BC%82%E6%AD%A5"><span class="nav-number">5.4.2.2.</span> <span class="nav-text">异步</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%90%8C%E6%AD%A5%E4%BB%BB%E5%8A%A1"><span class="nav-number">5.4.2.3.</span> <span class="nav-text">同步任务</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1"><span class="nav-number">5.4.2.4.</span> <span class="nav-text">异步任务</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Promise-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">5.4.2.5.</span> <span class="nav-text">Promise 的使用</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-3-JS-%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6"><span class="nav-number">5.4.3.</span> <span class="nav-text">4.4.3 JS 执行机制</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5-location-%E5%AF%B9%E8%B1%A1"><span class="nav-number">5.5.</span> <span class="nav-text">4.5 location 对象</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-1-%E4%BB%80%E4%B9%88%E6%98%AF-location-%E5%AF%B9%E8%B1%A1"><span class="nav-number">5.5.1.</span> <span class="nav-text">4.5.1 什么是 location 对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-2-URL"><span class="nav-number">5.5.2.</span> <span class="nav-text">4.5.2 URL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-3-location-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="nav-number">5.5.3.</span> <span class="nav-text">4.5.3 location 对象的属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-4-location-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-number">5.5.4.</span> <span class="nav-text">4.5.4 location 对象的方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-5-navigator-%E5%AF%B9%E8%B1%A1"><span class="nav-number">5.5.5.</span> <span class="nav-text">4.5.5 navigator 对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-6-history-%E5%AF%B9%E8%B1%A1"><span class="nav-number">5.5.6.</span> <span class="nav-text">4.5.6 history 对象</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-PC-%E7%AB%AF%E7%BD%91%E9%A1%B5%E7%89%B9%E6%95%88"><span class="nav-number">6.</span> <span class="nav-text">5. PC 端网页特效</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-%E5%85%83%E7%B4%A0%E5%81%8F%E7%A7%BB%E9%87%8F-offset-%E7%B3%BB%E5%88%97"><span class="nav-number">6.1.</span> <span class="nav-text">5.1 元素偏移量 offset 系列</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-1-offset-%E6%A6%82%E8%BF%B0"><span class="nav-number">6.1.1.</span> <span class="nav-text">5.1.1 offset 概述</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#offset-%E7%B3%BB%E5%88%97%E5%B8%B8%E7%94%A8%E5%B1%9E%E6%80%A7%EF%BC%9A"><span class="nav-number">6.1.1.1.</span> <span class="nav-text">offset 系列常用属性：</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-2-offset-%E4%B8%8E-style-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">6.1.2.</span> <span class="nav-text">5.1.2 offset 与 style 的区别</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#offset"><span class="nav-number">6.1.2.1.</span> <span class="nav-text">offset</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#style"><span class="nav-number">6.1.2.2.</span> <span class="nav-text">style</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%EF%BC%9A"><span class="nav-number">6.1.2.2.1.</span> <span class="nav-text">使用示例：</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-%E5%85%83%E7%B4%A0%E5%8F%AF%E8%A7%86%E5%8C%BA-client-%E7%B3%BB%E5%88%97"><span class="nav-number">6.2.</span> <span class="nav-text">5.2 元素可视区 client 系列</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-%E5%85%83%E7%B4%A0%E6%BB%9A%E5%8A%A8-scroll-%E7%B3%BB%E5%88%97"><span class="nav-number">6.3.</span> <span class="nav-text">5.3 元素滚动 scroll 系列</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-1-%E5%85%83%E7%B4%A0-scroll-%E7%B3%BB%E5%88%97%E5%B1%9E%E6%80%A7"><span class="nav-number">6.3.1.</span> <span class="nav-text">5.3.1 元素 scroll 系列属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-2-%E9%A1%B5%E9%9D%A2%E8%A2%AB%E5%8D%B7%E5%8E%BB%E7%9A%84%E5%A4%B4%E9%83%A8"><span class="nav-number">6.3.2.</span> <span class="nav-text">5.3.2 页面被卷去的头部</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A"><span class="nav-number">6.3.2.0.1.</span> <span class="nav-text">示例：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-3-%E8%8E%B7%E5%8F%96%E9%A1%B5%E9%9D%A2%E8%A2%AB%E5%8D%B7%E5%8E%BB%E7%9A%84%E5%A4%B4%E9%83%A8%EF%BC%9A"><span class="nav-number">6.3.3.</span> <span class="nav-text">5.3.3 获取页面被卷去的头部：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E5%B0%81%E8%A3%85"><span class="nav-number">6.4.</span> <span class="nav-text">5.4 动画函数封装</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-4-1-%E5%8A%A8%E7%94%BB%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="nav-number">6.4.1.</span> <span class="nav-text">5.4.1 动画实现原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-4-2-%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E7%AE%80%E5%8D%95%E5%B0%81%E8%A3%85"><span class="nav-number">6.4.2.</span> <span class="nav-text">5.4.2 动画函数简单封装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-4-3-%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E7%BB%99%E4%B8%8D%E5%90%8C%E5%85%83%E7%B4%A0%E8%AE%B0%E5%BD%95%E4%B8%8D%E5%90%8C%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-number">6.4.3.</span> <span class="nav-text">5.4.3 动画函数给不同元素记录不同定时器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-4-4-%E7%BC%93%E5%8A%A8%E6%95%88%E6%9E%9C%E5%8E%9F%E7%90%86"><span class="nav-number">6.4.4.</span> <span class="nav-text">5.4.4 缓动效果原理</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8"><span class="nav-number">7.</span> <span class="nav-text">5. 本地存储</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E7%9A%84%E7%89%B9%E6%80%A7%EF%BC%9A"><span class="nav-number">7.0.0.0.1.</span> <span class="nav-text">本地存储的特性：</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-window-sessionStorage"><span class="nav-number">7.1.</span> <span class="nav-text">5.1 window.sessionStorage</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE%EF%BC%9A"><span class="nav-number">7.1.0.0.1.</span> <span class="nav-text">存储数据：</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%9A"><span class="nav-number">7.1.0.0.2.</span> <span class="nav-text">获取数据：</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%EF%BC%9A"><span class="nav-number">7.1.0.0.3.</span> <span class="nav-text">删除数据：</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%EF%BC%9A"><span class="nav-number">7.1.0.0.4.</span> <span class="nav-text">删除所有数据：</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-window-localStorage"><span class="nav-number">7.2.</span> <span class="nav-text">5.2 window.localStorage</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE%EF%BC%9A-1"><span class="nav-number">7.2.0.0.1.</span> <span class="nav-text">存储数据：</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%9A-1"><span class="nav-number">7.2.0.0.2.</span> <span class="nav-text">获取数据：</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%EF%BC%9A-1"><span class="nav-number">7.2.0.0.3.</span> <span class="nav-text">删除数据：</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%EF%BC%9A-1"><span class="nav-number">7.2.0.0.4.</span> <span class="nav-text">删除所有数据：</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="HreateHakunari"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">HreateHakunari</p>
  <div class="site-description" itemprop="description">Do not go gentle into that good night.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">8</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Hakunari" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Hakunari" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:hreatehakunari@gmail.com" title="E-Mail → mailto:hreatehakunari@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://gitee.com/hreatedotaer" title="Gitee → https:&#x2F;&#x2F;gitee.com&#x2F;hreatedotaer" rel="noopener" target="_blank"><i class="fa fa-git fa-fw"></i>Gitee</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://baidu.com/" title="https:&#x2F;&#x2F;baidu.com" rel="noopener" target="_blank">百度</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2022-03 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">HreateHakunari</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共44.8k字</span>
</div>


    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <span id="busuanzi_container_site_pv">总访问量<span id="busuanzi_value_site_pv"></span>次</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">总访客数<span id="busuanzi_value_site_uv"></span>人</span>
    <span class="post-meta-divider">|</span>
<!-- 不蒜子计数初始值纠正 -->
<script>
$(document).ready(function() {

    var int = setInterval(fixCount, 50);  // 50ms周期检测函数
    var countOffset = 0;  // 初始化首次数据

    function fixCount() {            
       if (document.getElementById("busuanzi_container_site_pv").style.display != "none")
        {
            $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + countOffset); 
            clearInterval(int);
        }                  
        if ($("#busuanzi_container_site_pv").css("display") != "none")
        {
            $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + countOffset); // 加上初始数据 
            clearInterval(int); // 停止检测
        }  
    }
       	
});
</script> 


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>






<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"1sd3IDkAv4xP0V34tN0y6hVm-gzGzoHsz","app_key":"pSTHETKVcicByBJnAH4IB7vQ","server_url":null,"security":true};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


      </div>
    </footer>
  </div>

  
  
  <script color='255,255,255' opacity='1.5' zIndex='-1' count='300' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '1sd3IDkAv4xP0V34tN0y6hVm-gzGzoHsz',
      appKey     : 'pSTHETKVcicByBJnAH4IB7vQ',
      placeholder: "欢迎发言~",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : 'zh-CN' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
